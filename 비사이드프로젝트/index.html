<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NetMood Analyzer</title>
  <style>
    body {
      font-family: Segoe UI, Roboto, -apple-system, 'Helvetica Neue', Arial;
      background: #f7fafc;
      color: #111827
    }

    .consent-wrap {
      max-width: 900px;
      margin: 48px auto;
      padding: 28px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 8px 30px rgba(2, 6, 23, 0.08);
    }

    h1 {
      margin: 0 0 8px;
      font-size: 1.6rem;
    }

    .terms {
      line-height: 1.6;
      color: #0f172a;
    }

    .terms section {
      margin: 14px 0;
      padding: 12px;
      background: #f8fafc;
      border-radius: 6px;
      border: 1px solid #e6eef8;
    }

    .actions {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .btn-primary {
      background: #2563eb;
      color: #fff;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }

    .btn-ghost {
      background: transparent;
      color: #374151;
      border: 1px solid #e6eef8;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    .muted {
      color: #475569;
      font-size: 0.95rem
    }

    @media (max-width:640px) {
      .consent-wrap {
        margin: 24px 12px;
        padding: 18px
      }

      .actions {
        justify-content: stretch;
        flex-direction: column
      }

      .btn-primary,
      .btn-ghost {
        width: 100%
      }
    }
  </style>
</head>

<body>
  <div class="consent-wrap" id="consentWrap">
    <h1>서비스 이용약관 및 개인정보 처리방침</h1>
    <p class="muted">아래 약관과 방침을 읽고 '동의하고 서비스 이용하기'를 클릭하여 계속 진행하세요.</p>

    <div class="terms" id="terms">
      <section>
        <strong>1. 서비스 이용약관</strong>
        <p>본 약관은 NetMood Analyzer 서비스 이용에 관한 조건을 규정합니다.</p>
        <ul>
          <li>서비스는 네트워크 트래픽 분석 및 감정 분석을 목적으로 합니다.</li>
          <li>사용자는 서비스를 적법한 용도로만 사용해야 합니다.</li>
          <li>서비스 이용 중 발생하는 데이터는 분석 목적으로만 사용됩니다.</li>
        </ul>
      </section>

      <section>
        <strong>2. 개인정보 처리방침</strong>
        <p>개인정보 보호를 위한 처리방침입니다.</p>
        <ul>
          <li>수집하는 정보: 네트워크 트래픽 데이터, 사용 통계</li>
          <li>이용 목적: 네트워크 상태 분석 및 감정 분류</li>
          <li>보관 기간: 분석 완료 후 30일 이내 삭제</li>
          <li>제3자 제공: 법적 요구사항을 제외하고 제공하지 않음</li>
        </ul>
      </section>

      <section>
        <strong>3. 데이터 보안</strong>
        <ul>
          <li>모든 데이터는 암호화되어 전송됩니다.</li>
          <li>분석 완료 후 데이터는 안전하게 삭제됩니다.</li>
          <li>외부 접근으로부터 보호되는 안전한 서버에서 처리됩니다.</li>
        </ul>
      </section>

      <section>
        <strong>4. 동의 철회</strong>
        <p>언제든지 개인정보 처리에 대한 동의를 철회할 수 있습니다.</p>
        <ul>
          <li>동의 철회 시 진행 중인 분석이 중단될 수 있습니다.</li>
          <li>철회 요청은 <a href="mailto:help@netmoodanalyzer.com">help@netmoodanalyzer.com</a>으로 연락하세요.</li>
          <li>철회 후 기존 데이터는 즉시 삭제됩니다.</li>
        </ul>
      </section>

      <section>
        <strong>중요 안내</strong>
        <p>"동의하고 서비스 이용하기" 버튼을 클릭하면 위의 모든 약관 및 방침에 동의하는 것으로 간주됩니다. 서비스를 이용하지 않으시려면 "거부하고 종료하기"를 선택해 주세요.</p>
      </section>
    </div>

    <div class="actions">
      <button class="btn-ghost" id="declineBtn">거부하고 종료하기</button>
      <button class="btn-primary" id="acceptBtn">동의하고 서비스 이용하기</button>
    </div>

    <div id="postMessage" style="display:none;margin-top:16px;" class="muted"></div>
  </div>

  <script>
    (function () {
      const ACCEPT_KEY = 'netmood_consent_v1';
      const acceptBtn = document.getElementById('acceptBtn');
      const declineBtn = document.getElementById('declineBtn');
      const postMsg = document.getElementById('postMessage');

      // If user already consented, redirect to dashboard
      try {
        if (localStorage.getItem(ACCEPT_KEY) === 'true') {
          window.location.href = 'integrated-dashboard.html';
        }
      } catch (e) { /* ignore storage errors */ }

      acceptBtn.addEventListener('click', function () {
        try {
          // primary consent key for this page
          localStorage.setItem(ACCEPT_KEY, 'true');
          // compatibility for existing dashboard checks
          localStorage.setItem('termsAccepted', 'true');
          // remove any rejected flag
          localStorage.removeItem('termsRejected');
        } catch (e) { }
        postMsg.style.display = 'block';
        postMsg.textContent = '감사합니다. 대시보드로 이동합니다...';
        // small delay to show message then redirect
        setTimeout(() => window.location.href = 'integrated-dashboard.html', 700);
      });

      declineBtn.addEventListener('click', function () {
        // mark as rejected and clear consent keys
        try {
          localStorage.removeItem(ACCEPT_KEY);
          localStorage.setItem('termsRejected', 'true');
          localStorage.removeItem('termsAccepted');
        } catch (e) { }
        const wrap = document.getElementById('consentWrap');
        wrap.innerHTML = '<h1>서비스 이용 거부</h1><p class="muted">약관에 동의하지 않으셨습니다. 서비스를 이용하려면 언제든 다시 방문하여 동의해 주세요.</p><p class="muted">문의: <a href="mailto:help@netmoodanalyzer.com">help@netmoodanalyzer.com</a></p>';
      });
    })();
  </script>
</body>

</html>